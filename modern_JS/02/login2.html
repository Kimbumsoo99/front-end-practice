<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <style>
      #username {
        display: block;
      }
      #password {
        display: block;
      }
    </style>
  </head>
  <body>
    <form action="#">
      <fieldset>
        <legend>로그인</legend>
        <button type="button">Log in with Google</button>
      </fieldset>
      <p>or</p>
      <fieldset>
        <legend>일반 로그인</legend>
        <label for="username">
          <input
            type="text"
            id="username"
            name="username"
            placeholder="Usernaeme"
          />
        </label>
        <label for="password">
          <input
            type="password"
            id="password"
            name="password"
            placeholder="Password"
          />
        </label>
        <button type="submit">LOGIN</button>
      </fieldset>
      <a href="#">Forgot your password?</a>
    </form>
    <script>
      const handleFormEvent = (event) => {
        event.preventDefault();
        const idEl = document.forms[0].username;
        const idValue = idEl.value.trim();
        const pwEl = document.forms[0].password;
        const pwValue = pwEl.value.trim();

        console.log(idValue);
        console.log(idValue.indexOf("@"));

        if (idValue === "") {
          alert("아이디를 입력해 주세요.");
          idEl.focus();
          return;
        }
        if (idValue.indexOf("@") === -1) {
          alert("아이디는 이메일 형식으로 입력해 주세요.");
          idEl.focus();
          return;
        }
        if (pwValue === "") {
          alert("비밀번호를 입력해 주세요.");
          pwEl.focus();
          return;
        }
        if (pwValue.trim().length <= 4) {
          alert("비밀번호는 5자리 이상 입력해 주세요.");
          pwEl.focus();
          return;
        }
        this.submit();
      };

      document.forms[0].addEventListener("submit", handleFormEvent);
    </script>
  </body>
</html>
